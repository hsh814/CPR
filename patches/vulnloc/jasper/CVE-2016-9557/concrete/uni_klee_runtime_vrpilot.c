#include "uni_klee_runtime.h"

int uni_klee_patch_id;

void klee_select_patch(int *patch_id) {
  *patch_id = 0;
}

void uni_klee_add_patch(int *patch_results, int patch_id, int result) {
  patch_results[patch_id] = result;
}

int uni_klee_choice(int *patch_results, int patch_id) {
  return patch_results[patch_id];
}

// UNI_KLEE_START
int __cpr_choice(char* lid, char* typestr,
                     long long* rvals, char** rvals_ids, int rvals_size,
                     int** lvals, char** lvals_ids, int lvals_size){
  // int patch_results[4096];
  int result;
  long long x = rvals[0];
  long long y = rvals[1];
  long long z = rvals[2];
  long long m = rvals[3];
  long long n = rvals[4];
  long long constant_a;
  int patch_results[694];
  // Patch buggy # 0
  result = (0);
  uni_klee_add_patch(patch_results, 0, result);
  // Patch 1-0 # 1
  result = ((x * y * (z + 7) / 8 > 0xFFFFFFFFU) || n > (0xFFFFFFFFU - x * y * (z + 7) / 8));
  uni_klee_add_patch(patch_results, 1, result);
  // Patch correct # 2
  result = ((x * y * (z + 7) / 8 > 0xFFFFFFFFU - n));
  uni_klee_add_patch(patch_results, 2, result);
  klee_select_patch(&uni_klee_patch_id);
  return uni_klee_choice(patch_results, uni_klee_patch_id);
}
// UNI_KLEE_END

int __cpr_output(char* id, char* typestr, int value){
  return value;
}
