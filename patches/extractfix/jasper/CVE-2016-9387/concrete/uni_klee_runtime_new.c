#include "uni_klee_runtime.h"

int uni_klee_patch_id;

void klee_select_patch(int *patch_id) {
  *patch_id = 0;
}

void uni_klee_add_patch(int *patch_results, int patch_id, int result) {
  patch_results[patch_id] = result;
}

int uni_klee_choice(int *patch_results, int patch_id) {
  return patch_results[patch_id];
}

// UNI_KLEE_START
int __cpr_choice(char* lid, char* typestr,
                     long long* rvals, char** rvals_ids, int rvals_size,
                     int** lvals, char** lvals_ids, int lvals_size){
  // int patch_results[4096];
  int result;
  long long x = rvals[0];
  long long y = rvals[1];
  long long z = rvals[2];
  long long constant_a;
  int patch_results[19];
  // Patch buggy # 0
  result = (0);
  uni_klee_add_patch(patch_results, 0, result);
  // Patch 1-0 # 1
  result = (x == x);
  uni_klee_add_patch(patch_results, 1, result);
  // Patch 2-0 # 2
  result = (y != x);
  uni_klee_add_patch(patch_results, 2, result);
  // Patch 3-0 # 3
  result = (x <= z);
  uni_klee_add_patch(patch_results, 3, result);
  // Patch 4-0 # 4
  result = (y <= z);
  uni_klee_add_patch(patch_results, 4, result);
  // Patch 5-0 # 5
  result = ((x / z) < z);
  uni_klee_add_patch(patch_results, 5, result);
  // Patch 6-0 # 6
  result = ((y / z) < z);
  uni_klee_add_patch(patch_results, 6, result);
  // Patch 7-0 # 7
  result = ((y / z) != z);
  uni_klee_add_patch(patch_results, 7, result);
  // Patch 8-0 # 8
  result = ((x / z) != x);
  uni_klee_add_patch(patch_results, 8, result);
  // Patch 9-0 # 9
  result = ((z / y) != y);
  uni_klee_add_patch(patch_results, 9, result);
  // Patch 10-0 # 10
  result = ((x / z) != z);
  uni_klee_add_patch(patch_results, 10, result);
  // Patch 11-0 # 11
  result = ((z / x) != x);
  uni_klee_add_patch(patch_results, 11, result);
  // Patch 12-0 # 12
  result = ((x / z) <= z);
  uni_klee_add_patch(patch_results, 12, result);
  // Patch 13-0 # 13
  result = ((z / y) <= z);
  uni_klee_add_patch(patch_results, 13, result);
  // Patch 14-0 # 14
  result = ((y / z) <= z);
  uni_klee_add_patch(patch_results, 14, result);
  // Patch 15-0 # 15
  result = ((x / y) <= z);
  uni_klee_add_patch(patch_results, 15, result);
  // Patch 16-0 # 16
  result = ((y / x) <= z);
  uni_klee_add_patch(patch_results, 16, result);
  // Patch 17-0 # 17
  result = ((z / x) <= z);
  uni_klee_add_patch(patch_results, 17, result);
  // Patch correct # 18
  result = (x <= y);
  uni_klee_add_patch(patch_results, 18, result);
  klee_select_patch(&uni_klee_patch_id);
  return uni_klee_choice(patch_results, uni_klee_patch_id);
}
// UNI_KLEE_END

int __cpr_output(char* id, char* typestr, int value){
  return value;
}
